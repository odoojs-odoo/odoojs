大约 2019 年写的材料, 这里 存档

## 缘起

现在互联网时代, 软件开发两大关键点, 1 是业务建模, 2 是 WEB 展现,也即 UI/UE  
业务建模, 在中低端客户中, 通常重视不够;  
而软件开发从业者, 初级水平的占比非常大, 业务分析和建模能力很弱.  
这样的软件开发,项目实施现状,让市场上充斥着大量的不成熟的软件产品和交付质量低下的项目工程.

odoo 作为一个“ERP 产品”, 可以开箱即用, 直接进行 ERP 项目实施。  
同时, odoo 灵活的可扩展性, 使 odoo 成为一个“开发平台”.  
而作为开发平台的 odoo, 区别于其他的开发平台, 最重要的特点就是快速的建模能力.  
中初级程序员, 使用 odoo 做开发, 可以作出中等质量的业务建模. 从而显著提高交付产品的质量.

接受了 odoo 的优点, 自然也得承受 odoo 的缺点.  
odoo 在本地化的过程中, 遇到两个瓶颈,

- 个性化业务流程需求很多, 大量的二次开发工作
- Web 展现层个性化需求, 难以实现

定制个性化的业务流程, 是 odoo 本身可以搞定的.  
odoo 中国社区的不断壮大和完善, 会有更多的行业解决方案涌现.

而 Web 展现层的个性化需求, 难以实现, 原因如下:  
1 前端需求个性化多彩多姿, 难有一个平台可以涵盖  
2 odoo 开箱即用的设计思想, 更适合面向终端用户的“傻瓜式”使用,  
3 而国情却是终端用户更喜欢交钥匙工程,odoo 的实施是由开发服务方的程序员实现的  
4 显然傻瓜式的解决方案束绑了程序员的创造性.

于是寻找全新的 web 解决方案, 以解决 odoo 本地化的问题成为一个必然.

## 思路

使用 odoo 的 Json RPC 接口, 从 odoo 中获取数据, 全新构建 web 设计.

## 意义

本不是什么新想法, 很多人在做类似的事情.  
近几年互联网的发展, 催生了前端技术的成长,  
react/vue/angular 等 web 前端技术架构得到众多互联网公司青睐.  
相对于前端技术的百花齐放, odoo 的开箱即用思路反而到让 odoo 前端成了“闭门造车”.  
让 odoo 开门, 与互联网接轨, 从而使 odoo 真正成为“开发平台”.

## 历程

早期用 python 搭 web 服务, 使用 web.py 框架.  
odoo 接口模块用的是 OdooRPC, https://pypi.org/project/OdooRPC/

后来用 Vue, 开始接触前端开发.  
最后选定 React 作为前端框架. 服务端直接用 odoo 的 web 服务.  
React + ant design + Dva 是选定的技术路线.  
结合 dva, 做了一个 odoo 接口, dva-odoo, https://github.com/odooht/dva-odoo  
dva-odoo 开发历时不到两个月. 满足项目应用的需要.  
dva-odoo 这个接口做完之后, 明确感觉到, odoorpc JS 版的接口, 与前端框架无关, 应该单独实现.  
于是着手开始 odoo-rpc 的设计.

odoo-rpc 历时一个月, 基本完成.  
在完成 odoo-rpc 的核心代码后, 着手应用. 体会到 odoo-rpc 的便捷性.而且 odoo-rpc 自身具有可扩展性.  
模块扩展, 新模型的创建依然需要在 odoo 中完成.  
而灵活的使用模型, 完全可以依托 odoo-rpc, 在前端自定义函数, 完成业务功能.

将 odoo-rpc 更名为 odoojs.  
odoojs 明确定位为 odoo 的前端解决方案。

## odoojs 的特点

odoojs 的核心代码很少,字大行稀, 空行很多, 不足 1000 行代码而已.  
odoo 已有的所有模型, 包括第三方模块,在 odoojs 中无需做任何特殊代码, 都可以直接使用.  
odoojs 可以扩展, 添加前端需要的自定义函数.  
odoojs 是独立的 js 代码, 没有和任何前端框架绑定.  
使用者可以根据自己的习惯, 选择 React, Vue, Angular 等流行框架.  
即使使用原生态的 纯 HTML,CSS,js 进行开发, 仍然可以使用 odoojs

## 使用指南

odoojs 与 odoo 分工明确.
使用 odoo 完成你的 模型创建, 字段定义, 标准化的业务流程处理, 核心的业务流程处理.  
无需额外代码, 直接使用 odoojs 从 odoo 模型中读取数据, 在前端自由呈现  
利用 odoojs 的可扩展性. 基于 odoojs, 可以在前端写一些个性化的函数, 服务于操作层面的业务流程, 服务于前端需要

## 未来规划

逐步完善 odoojs 与各大主流前端框架的接口.  
逐步标准化操作层面的业务流程, 并固化到 odoojs, 以进一步提高前端开发效率.

## 一篇介绍短文

中国软件市场的客户个性化需求丰富多彩，互联网应用的发展将用户体验推向极致。

我们 odoo 从业人员从不把 odoo 仅仅作为一个 ERP 产品平台，而是将其作为一个“开发平台”为中小企业提供定制化服务。

odoo 在本地化的过程中，催生的大量行业解决方案，满足客户的个性化需求，极速推进中小企业的信息化建设。

odoo 开箱即用的设计思想，是一把双刃剑。在业务建模、业务流程设计上，提供标准化模块，推进了 odoo 的快速应用。

在前端展现方面，odoo 提供的模块却又束绑了 odoo 开发人员的创造力。

odoo 在中国本土使用过程中，更多的是由技术人员使用 odoo。这点不同于欧美市场。导致了 odoo 在前端展现方面在中国本地的水土不服。

跳出 odoo，在更大的一个层面上观察软件行业状况，React、Vue、Angular 等主流前端架构在各大软件公司非常流行。

将 odoo 与主流前端框架集成。从里向外看，让 odoo 可以支持更为灵活、自由的前端设计。从外向里看，则 odoo 成为一个真正意义上的“开发平台”。

依托 odoo，高效的、标准化的业务建模，流程开发。
配以自由的、灵活的前端设计。

形成中国本地化中小企业信息化服务“开发平台”的两个支撑点。

“随需而动、极致体验”，是 odoo 中国本地化落地的方向。

On Demand for Experience

## odoojs

- 为便于区别,以后称呼 原有的 odoo 为 odoopy.
- 而称呼 odoo 则通常是指 odoopy + odoojs
- odoopy 提供核心的服务
- odoojs 依托 odoopy, 实现 odoo 服务的 web 端
- odoopy 服务中所有的已有模块功能, 在 odoojs 中都可以实现
- odoojs 包括两部分, odoorpc 和 odooweb
- odoorpc 的功能是前端与 odoopy 的接口
- odooweb 的功能是 odoo 的展现界面
- odoorpc 的核心功能已经开发完成
- odoorpc 需要完善的部分,是 odoopy 中一些特殊模块,存在特定的 web 接口
- odooweb 目前处理架构设计阶段, 需要逐步在项目中沉淀
- odooweb 暂定的技术架构是 React+Antd 框架
- odooweb 的技术架构可以做 React, Vue, Angular 三个版本
- odooweb 的功能很明确, 直接以 odoopy 现有 web 功能为参考, 逐步实现
- odoopy 支持各种第三方的扩展模块, 相应的在 odooweb 中也应该支持对应的第三方模块的扩展
- 第三方开发团队, 在 odoopy 中完成模块开发后, 应在 odooweb 中开发对应的模块

## odoojs 目前的实施方法

- 使用 odoopy 做正常的 erp 功能实施或二次开发
- 使用 H5+CSS+JS 做常规的 web 开发
- 使用 odoorpc 做 web 与 odoopy 的接口

## Q & A

- Q: odoojs 与 odoopy 本身的 website 有什么异同
- A: odoojs 是使用 odoopy 提供的 web 服务做的前端功能开发. 与 odoo 本身的 website 没有关系
- Q: odoojs 与 odoopy 是否有冲突
- A: odoojs 只是使用 odoopy 提供的 web 服务, 不对 odoopy 做任何修改. 因此与 odoopy 没有冲突.
- Q: odoojs 比 odoopy 的 website 有哪些优点
- A: odoojs 提供的 web 开发是业界通用的开发方式,与主流的前端开发技术完全接轨.
- Q: React, Vue, Angular 这几个主流的前端开发框架, odoojs 和他们完全兼容吗.
- A: 完全兼容.odoojs 是一个 odoopy 的标准前端接口,对前端开发技术没有任何限制.可以在项目中使用任何 H5 有关的开发技术.
- Q: 前端技术发展迅速, 迭代很快. odoojs 在这点上有什么考虑.
- A: odoojs 会集成最新的前端技术, 有利于提高前端开发效率的工具都是好工具,
- Q: 普通的前端开发工程师使用 odoojs 有哪些技术储备
- A: odoojs 是完全的前端技术框架, 对前端开发工程师没有额外的技术要求
- Q: 以后转行了,不再使用 odoo. 使用 odoojs 学习到的技术在新公司还有用么.
- A: 使用 odoojs, 就是在使用前端技术进行开发, 走的到哪里都用的上的前端开发技术.
- Q: 我们是 ERP 实施团队, 如何使用 odoojs.
- A: 专心做好 ERP 实施, 满足客户的业务需要. 前端展现的工作交给 odoojs.
- Q: 我们是网站建设团队, 如何正确使用 odoojs.
- A: 专心做好网站建设. 然后使用 odoojs 打通与业务系统的接口. 让你做的网站能做更多的事情.
